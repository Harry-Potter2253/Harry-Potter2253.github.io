<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop - Perfume Palace</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <header>
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Perfume Palace Logo" class="logo">
    <nav>
      <a href="/">Home</a>
      <a href="/products">Shop</a>
      <a href="/cart">Cart</a>
      {% if session.user_id %}
        <a href="/logout">Logout</a>
      {% else %}
        <a href="/login">Login</a>
        <a href="/register">Register</a>
      {% endif %}
    </nav>
  </header>
  <main>
    <section class="search-filter">
      <input type="text" id="search" placeholder="Search products...">
      <select id="category">
        <option value="">All Categories</option>
        {% for category in categories %}
          <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
      </select>
      <button onclick="searchProducts()" class="btn">Search</button>
    </section>
    <h2>Our Collection</h2>
    <div id="product-list" class="product-grid">
      {% for product in products %}
        <div class="product">
          <img src="{{ url_for('static', filename=product.image) }}" alt="{{ product.name }}">
          <h3>{{ product.name }}</h3>
          <p>{{ product.description }}</p>
          <p>Category: {{ product.category_name }}</p>
          <p>${{ '%.2f' % product.price }}</p>
          <button onclick="addToCart({{ product.id }})">Add to Cart</button>
        </div>
      {% endfor %}
    </div>
  </main>
  <footer>
    <p>&copy; 2025 Perfume Palace. All rights reserved.</p>
  </footer>
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>